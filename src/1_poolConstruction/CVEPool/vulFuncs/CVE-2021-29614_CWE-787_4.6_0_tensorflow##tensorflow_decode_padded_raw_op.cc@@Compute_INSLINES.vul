+#include "tensorflow/core/framework/op_requires.h"
+        const auto to_copy =
+            std::min(flat_in(i).size(), static_cast(fixed_length));
+        memcpy(out_data, flat_in(i).data(), to_copy);
+        // Note: increase out_data by width since it's already of type T* so
+        // each shift amount is implicitly multiplied by sizeof(T) according to
+        // pointer arithmetic rules.
+        out_data += width;
